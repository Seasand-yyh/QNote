# 文档流结束时document.write

---

(1) 情况一

~~~html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	aaaaaaaaaaaaaaaaaaaaaaaaaa<br/>
    aaaaaaaaaaaaaaaaaaaaaaaaaa<br/>
    <script type="text/javascript">
        function add(){
            document.write('##########################<br/>');
            document.write('##########################<br/>');
        }
        add();
	</script>
    bbbbbbbbbbbbbbbbbbbbbbbbbb<br/>
    bbbbbbbbbbbbbbbbbbbbbbbbbb<br/>
</body>
</html>
~~~

结果：

aaaaaaaaaaaaaaaaaaaaaaaaaa  
aaaaaaaaaaaaaaaaaaaaaaaaaa  
##########################  
##########################  
bbbbbbbbbbbbbbbbbbbbbbbbbb  
bbbbbbbbbbbbbbbbbbbbbbbbbb



(2) 情况二

~~~html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	aaaaaaaaaaaaaaaaaaaaaaaaaa<br/>
    aaaaaaaaaaaaaaaaaaaaaaaaaa<br/>
    <script type="text/javascript">
        function add(){
            document.write('##########################<br/>');
            document.write('##########################<br/>');
        }
	</script>
    bbbbbbbbbbbbbbbbbbbbbbbbbb<br/>
    bbbbbbbbbbbbbbbbbbbbbbbbbb<br/>
    
    <a href="javascript:add();">add</a>
</body>
</html>
~~~

结果：

##########################  
##########################



(3) 情况三

~~~html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	aaaaaaaaaaaaaaaaaaaaaaaaaa<br/>
    aaaaaaaaaaaaaaaaaaaaaaaaaa<br/>
    <script type="text/javascript">
        function add(){
            document.write('##########################<br/>');
            document.write('##########################<br/>');
            document.close(); //关闭文档流
            document.write('@@@@@@@@@@@@@@@@@@@@@@@@@@<br/>');
            document.write('##########################<br/>');
            document.write('##########################<br/>');
        }
	</script>
    bbbbbbbbbbbbbbbbbbbbbbbbbb<br/>
    bbbbbbbbbbbbbbbbbbbbbbbbbb<br/>
    
    <a href="javascript:add();">add</a>
</body>
</html>
~~~

结果：

@@@@@@@@@@@@@@@@@@@@@@@@@@  
##########################  
##########################

总结：

文档流结束时使用document.write添加的内容会重新渲染。上述实例通过浏览器的后退按钮可看到明显的渲染过程。



---

